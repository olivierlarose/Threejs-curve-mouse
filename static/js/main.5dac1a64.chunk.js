(this["webpackJsonpthreejs-curve-onmouse"]=this["webpackJsonpthreejs-curve-onmouse"]||[]).push([[0],{17:function(e,n,i){},18:function(e,n,i){},22:function(e,n,i){"use strict";i.r(n);var t=i(9),o=i.n(t),r=i(12),s=i.n(r),u=(i(17),i.p,i(18),i(0)),a=i(3),c=i(1),v=i(2),h=i(6),l=i(21),m=i(7),d=function(e){Object(c.a)(i,e);var n=Object(v.a)(i);function i(e){var t;return Object(u.a)(this,i),(t=n.call(this,e)).cube=null,t.mouse=new h.i(0,0,0),t.curveStrength=.2,t.uniforms={uTexture:{value:null},uOffset:{value:new h.h(0,0)},uAlpha:{value:1}},t}return Object(a.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.scene=new h.e,this.camera=new h.c(55,window.innerWidth/window.innerHeight,1,5),this.renderer=new h.j({alpha:!0,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.clock=new h.a,this.mount.appendChild(this.renderer.domElement);var n=new h.d(.658,.817,10,30);(new h.g).load("/Threejs-curve-mouse/images/car.png",(function(i){e.uniforms.uTexture.value=i;var t=new h.f({uniforms:e.uniforms,vertexShader:"\n                  uniform vec2 uOffset;\n                  varying vec2 vUv;\n                  #define M_PI 3.1415926535897932384626433832795\n\n                  vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n                    position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n                    position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n                    return position;\n                  }\n\n                  void main() {\n                    vUv = uv;\n                    vec3 newPosition = deformationCurve(position, uv, uOffset);\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n                  }\n                ",fragmentShader:"\n                  uniform sampler2D uTexture;\n                  uniform float uAlpha;\n                  varying vec2 vUv;\n            \n                  void main() {\n                    vec3 color = texture2D(uTexture,vUv).rgb;\n                    gl_FragColor = vec4(color,1.0);\n                  }\n                ",transparent:!0});e.cube=new h.b(n,t),e.camera.position.z=2,e.scene.add(e.cube),e.renderer.render(e.scene,e.camera)})),this.animate()}},{key:"mouseMove",value:function(e){if(this.cube){var n=e.clientX/window.innerWidth*2-1,i=-e.clientY/window.innerHeight*2+1,t=new h.i(n,i,0).unproject(this.camera);t.sub(this.camera.position).normalize();var o=-this.camera.position.z/t.z;this.mouse.copy(this.camera.position).add(t.multiplyScalar(o))}}},{key:"animate",value:function(){if(requestAnimationFrame(this.animate.bind(this)),null!=this.cube){this.uniforms.uOffset.value=this.cube.position.clone().sub(this.mouse).multiplyScalar(-this.curveStrength);var e=this.mouse,n=e.x,i=e.y;l.b.to(this.cube.position,1,{x:n,y:i,ease:l.a.easeOut}),this.renderer.render(this.scene,this.camera)}}},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{onMouseMove:function(n){return e.mouseMove(n)},style:{height:"100vh",width:"100%"},id:"canvas",ref:function(n){e.mount=n}})}}]),i}(t.Component);var f=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(d,{})})},p=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,24)).then((function(n){var i=n.getCLS,t=n.getFID,o=n.getFCP,r=n.getLCP,s=n.getTTFB;i(e),t(e),o(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root")),p()}},[[22,1,2]]]);
//# sourceMappingURL=main.5dac1a64.chunk.js.map